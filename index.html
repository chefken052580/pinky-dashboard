<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/x-icon" href="pinky.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pinky Bot Dashboard - World Domination Control Center</title>
    <link rel="stylesheet" href="styles.css?v=1770609375">
    <link rel="stylesheet" href="mobile-responsive.css">
    <link rel="stylesheet" href="system-monitor.css">
    <link rel="stylesheet" href="pinky-chat.css">
    <link rel="stylesheet" href="task-statistics.css">
    <link rel="stylesheet" href="task-history-chart.css">
    <link rel="stylesheet" href="task-timer.css">
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="export-package.css">
    <link rel="stylesheet" href="system-health-widget.css">
    <link rel="stylesheet" href="changelog-widget.css">
    <link rel="stylesheet" href="error-page-pinky.css">
    <link rel="stylesheet" href="notification-sounds.css">
    <link rel="stylesheet" href="task-analytics.css">
    <link rel="stylesheet" href="tooltip-system.css">
    <link rel="stylesheet" href="sidebar-styling.css">
    <link rel="stylesheet" href="about-page.css">
    <link rel="stylesheet" href="wordpress-page-maker.css">
    <link rel="stylesheet" href="approval-queue.css">
    <link rel="stylesheet" href="token-allocation-widget.css">
    <link rel="stylesheet" href="task-search-filter.css">
    <link rel="stylesheet" href="keyboard-shortcuts.css">
    <link rel="stylesheet" href="token-warning-ui.css">
    <link rel="stylesheet" href="stripe-checkout.css">
    <link rel="stylesheet" href="license-manager.css">
    <link rel="stylesheet" href="feature-gating.css">
    <link rel="stylesheet" href="company-selector.css">
    <link rel="stylesheet" href="wordpress-manager.css">
    <link rel="stylesheet" href="bug-submission.css">
    <link rel="stylesheet" href="cryptobot-view.css?v=999">
</head>
<body>
    <!-- Onboarding Screen -->
    <div id="onboarding-container"></div>
    
    <!-- Mobile Menu Toggle -->
    <button class="menu-toggle" id="menuToggle" onclick="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
    </button>
    
    <!-- Sidebar Overlay (for mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
    
    <!-- Header -->
    <header class="dashboard-header">
        <div class="logo">
            <span class="icon">ğŸ­</span>
            <h1>Pinky Bot Dashboard</h1>
        </div>
        <div class="status-indicators">
            <div class="indicator" id="system-status">
                <span class="dot online"></span>
                <span>System Online</span>
            </div>
            <div class="indicator" id="bot-count">
                <span>ğŸ¤– <span id="bots-active-count">7</span> Bots Active</span>
            </div>
            <div class="indicator" id="tasks-today">
                <span>ğŸ“Š <span id="tasks-today-count">0</span> Tasks Today</span>
            </div>
            <!-- Approval Notifications -->
            <div class="approval-notification">
                <button class="notification-bell" onclick="window.dashboard.toggleApprovals()" title="Pending Approvals">
                    ğŸ””
                    <span id="approval-badge" class="notification-badge hidden">0</span>
                </button>
                <div id="approval-dropdown" class="approval-dropdown hidden">
                    <div class="approval-header">
                        <h3>ğŸ­ Brain's Approval Queue</h3>
                        <button class="approval-close-btn" onclick="toggleApprovals()">âœ• Close</button>
                    </div>
                    <div id="approval-list" class="approval-list">
                        <p class="no-approvals">No pending approvals</p>
                    </div>
                </div>
            </div>
            <button id="theme-toggle-header" class="theme-toggle-btn" onclick="window.themeManager && window.themeManager.toggleTheme()" title="Toggle Dark/Light Mode">
                â˜€ï¸
            </button>
            <button class="cache-clear-btn" onclick="window.dashboard.clearCacheAndReload()" title="Clear cache and reload">
                ğŸ”„ Clear Cache
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="bot-nav">
                <h3>ğŸ¤– Bot Army</h3>
                <button class="bot-button active" data-bot="dashboard">
                    <span class="bot-icon">ğŸ“Š</span>
                    <span class="bot-name">Dashboard</span>
                </button>
                <button class="bot-button" data-bot="chat">
                    <span class="bot-icon">ğŸ’¬</span>
                    <span class="bot-name">Chat</span>
                    <span class="notification-badge chat-badge hidden">0</span>
                    <span class="bot-status online"></span>
                    <span style="font-size:0.7em;opacity:0.7;">Talk to Pinky</span>
                </button>
                <button class="bot-button" id="tasks-nav" data-bot="tasks">
                    <span class="bot-icon">ğŸ¯</span>
                    <span class="bot-name">TasksBot</span>
                    <span class="notification-badge tasks-badge hidden">0</span>
                    <span class="bot-status online"></span>
                    <span style="font-size:0.7em;opacity:0.7;">Project Manager</span>
                </button>
                <button class="bot-button" data-bot="filesystem">
                    <span class="bot-icon">ğŸ“</span>
                    <span class="bot-name">FileSystemBot</span>
                    <span class="notification-badge filesystem-badge hidden">0</span>
                    <span class="bot-status online"></span>
                    <span style="font-size:0.7em;opacity:0.7;">AI File Assistant</span>
                </button>
                <button class="bot-button" data-bot="docs">
                    <span class="bot-icon">ğŸ“</span>
                    <span class="bot-name">DocsBot</span>
                    <span class="notification-badge docs-badge hidden">0</span>
                    <span class="bot-status online"></span>
                </button>
                <button class="bot-button" data-bot="research">
                    <span class="bot-icon">ğŸ”</span>
                    <span class="bot-name">ResearchBot</span>
                    <span class="notification-badge research-badge hidden">0</span>
                    <span class="bot-status online"></span>
                </button>
                <button class="bot-button" data-bot="code">
                    <span class="bot-icon">ğŸ’»</span>
                    <span class="bot-name">CodeBot</span>
                    <span class="notification-badge code-badge hidden">0</span>
                    <span class="bot-status online"></span>
                </button>
                <button class="bot-button" data-bot="social">
                    <span class="bot-icon">ğŸ“±</span>
                    <span class="bot-name">SocialBot</span>
                    <span class="notification-badge social-badge hidden">0</span>
                    <span class="bot-status online"></span>
                </button>
                <button class="bot-button" data-bot="business">
                    <span class="bot-icon">ğŸ’¼</span>
                    <span class="bot-name">BusinessBot</span>
                    <span class="notification-badge business-badge hidden">0</span>
                    <span class="bot-status online"></span>
                </button>
                <button class="bot-button" data-bot="crypto">
                    <span class="bot-icon">ğŸª™</span>
                    <span class="bot-name">CryptoBot</span>
                    <span class="notification-badge crypto-badge hidden">0</span>
                    <span class="bot-status online"></span>
                    <span style="font-size:0.7em;opacity:0.7;">Wallet & DeFi Manager</span>
                </button>
            </nav>
            <nav class="view-nav">
                <h3>ğŸ“± Views</h3>
                <button class="view-button" data-view="social-media">
                    <span>ğŸŒ Social Media</span>
                </button>
                <button class="view-button" data-view="wordpress">
                    <span>ğŸ“ WordPress</span>
                </button>
                <button class="view-button" data-view="export">
                    <span>ğŸ“¦ Export</span>
                </button>
                <button class="view-button" id="settings-nav" data-view="settings">
                    <span>âš™ï¸ Settings</span>
                </button>
                <button class="view-button" id="about-nav" data-view="about">
                    <span>â„¹ï¸ About</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Dashboard View (Default) -->
            <div id="dashboard-view" class="view active">
                <h2>ğŸ¯ Mission Control</h2>
                
                <!-- Heartbeat Status -->
                <div id="heartbeat-status-container"></div>
                
                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">âš¡</div>
                        <div class="stat-content">
                            <div class="stat-value" id="tasks-completed">0</div>
                            <div class="stat-label">Tasks Completed</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ’°</div>
                        <div class="stat-content">
                            <div class="stat-value" id="api-cost">$0.00</div>
                            <div class="stat-label">API Cost (Total)</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ”¤</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-messages">0</div>
                            <div class="stat-label">Messages</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ¯</div>
                        <div class="stat-content">
                            <div class="stat-value" id="success-rate">100%</div>
                            <div class="stat-label">Success Rate</div>
                        </div>
                    </div>
                </div>

                <!-- Task Statistics Widget -->
                <div id="task-statistics-container" style="margin-top: 2rem; padding: 1.5rem; background: rgba(20, 40, 80, 0.3); border-radius: 8px; border: 1px solid rgba(68, 150, 255, 0.2);">
                </div>

                <!-- Task History Chart - Last 30 Days -->
                <div id="task-history-chart-container" style="margin-top: 2rem; padding: 1.5rem; background: rgba(20, 40, 80, 0.3); border-radius: 8px; border: 1px solid rgba(68, 150, 255, 0.2);">
                </div>

                <!-- Analytics Dashboard Section -->
                <div id="analytics-dashboard-section" style="margin-top: 2rem; padding: 1.5rem; background: rgba(20, 40, 80, 0.3); border-radius: 8px; border: 1px solid rgba(68, 150, 255, 0.2);">
                    <h3 style="color: #4496ff; margin-bottom: 15px;">ğŸ“ˆ Analytics Dashboard</h3>
                    <div id="health-dashboard-container-main" style="margin-bottom: 20px;"></div>
                    <div id="changelog-widget-main" style="margin-bottom: 20px;"></div>
                    <div id="system-monitor-container-main" style="margin-bottom: 20px;"></div>
                </div>


                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>âš¡ Quick Actions</h3>
                    <div class="action-grid">
                        <button class="action-btn" onclick="quickAction('docs', 'daily-log')">
                            <span class="action-icon">ğŸ“</span>
                            <span>Generate Daily Log</span>
                        </button>
                        <button class="action-btn" onclick="quickAction('social', 'post')">
                            <span class="action-icon">ğŸ“±</span>
                            <span>Create Social Post</span>
                        </button>
                        <button class="action-btn" onclick="quickAction('research', 'market')">
                            <span class="action-icon">ğŸ”</span>
                            <span>Market Research</span>
                        </button>
                        <button class="action-btn" onclick="quickAction('code', 'generate')">
                            <span class="action-icon">ğŸ’»</span>
                            <span>Generate Code</span>
                        </button>
                        <button class="action-btn" onclick="quickAction('business', 'analyze')">
                            <span class="action-icon">ğŸ’¼</span>
                            <span>Analyze Opportunity</span>
                        </button>
                        <button class="action-btn" onclick="quickAction('all', 'batch')">
                            <span class="action-icon">ğŸš€</span>
                            <span>Run Batch Tasks</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity removed â€” Pinky Activity Monitor is the primary feed -->

                <!-- Pinky Activity Monitor -->
                <div class="pinky-monitor">
                    <h3>ğŸ­ Pinky Activity Monitor</h3>
                    <div class="monitor-buttons">
                        <button id="monitor-heartbeat" class="monitor-btn monitor-btn-heartbeat active" onclick="window.dashboard.switchMonitor('heartbeat')">
                            ğŸ’“ Heart Beat
                        </button>
                        <button id="monitor-thinking" class="monitor-btn monitor-btn-thinking" onclick="window.dashboard.switchMonitor('thinking')">
                            ğŸ§  Thinking
                        </button>
                        <button id="monitor-peak" class="monitor-btn monitor-btn-peak" onclick="window.dashboard.switchMonitor('peak')">
                            ğŸ“Š Peak Usage
                        </button>
                    </div>

                    <!-- Heart Beat Content -->
                    <div id="heartbeat-content" class="monitor-content active">
                        <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                            <div class="stat-card">
                                <div class="stat-icon">â°</div>
                                <div class="stat-content">
                                    <div class="stat-label">Last Heartbeat</div>
                                    <div class="stat-value" id="last-heartbeat" style="font-size:1.5em;">--:--</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">ğŸ’“</div>
                                <div class="stat-content">
                                    <div class="stat-label">Total Wake-ups</div>
                                    <div class="stat-value" id="total-wakeups" style="font-size:1.5em;">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">âœ…</div>
                                <div class="stat-content">
                                    <div class="stat-label">Status</div>
                                    <div class="stat-value" style="font-size:1.5em;color:#28a745;">ACTIVE</div>
                                </div>
                            </div>
                        </div>
                        <div id="heartbeat-log" class="activity-feed" style="margin-top:20px;max-height:300px;">
                            <div class="activity-item">
                                <span class="activity-message">Loading heartbeat data...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Thinking Content -->
                    <div id="thinking-content" class="monitor-content">
                        <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr);">
                            <div class="stat-card">
                                <div class="stat-icon">ğŸ§ </div>
                                <div class="stat-content">
                                    <div class="stat-label">Think Sessions</div>
                                    <div class="stat-value" id="think-sessions" style="font-size:1.5em;">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">â±ï¸</div>
                                <div class="stat-content">
                                    <div class="stat-label">Peak Hour</div>
                                    <div class="stat-value" id="peak-hour" style="font-size:1.5em;">--:--</div>
                                </div>
                            </div>
                        </div>
                        <div id="thinking-log" class="activity-feed" style="margin-top:20px;max-height:300px;">
                            <div class="activity-item">
                                <span class="activity-message">Loading thinking data...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Peak Usage Content -->
                    <div id="peak-content" class="monitor-content">
                        <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                            <div class="stat-card">
                                <div class="stat-icon">ğŸ¯</div>
                                <div class="stat-content">
                                    <div class="stat-label">Tokens</div>
                                    <div class="stat-value" id="tokens-used" style="font-size:1.5em;">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">âš¡</div>
                                <div class="stat-content">
                                    <div class="stat-label">Exec Calls</div>
                                    <div class="stat-value" id="exec-calls" style="font-size:1.5em;">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">ğŸ“</div>
                                <div class="stat-content">
                                    <div class="stat-label">File Ops</div>
                                    <div class="stat-value" id="file-ops" style="font-size:1.5em;">0</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">â±ï¸</div>
                                <div class="stat-content">
                                    <div class="stat-label">Avg Response</div>
                                    <div class="stat-value" id="avg-response" style="font-size:1.5em;">0ms</div>
                                </div>
                            </div>
                        </div>
                        <div id="peak-log" class="activity-feed" style="margin-top:20px;max-height:300px;">
                            <div class="activity-item">
                                <span class="activity-message">Loading usage data...</span>
                            </div>
                        </div>
                        <button onclick="window.dashboard.downloadLogs()" style="margin-top:20px;padding:12px 25px;background:#28a745;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:bold;">
                            ğŸ“¥ Download Full Logs
                        </button>
                    </div>
                </div>
            </div>

            <!-- Bot-Specific Views -->
            
            <!-- DocsBot View -->
            <div id="docs-view" class="view">
                <h2>ğŸ“ DocsBot - Documentation Master</h2>
                <p style="color:white;margin-bottom:25px;">
                    Generates daily logs, memory updates, and comprehensive documentation.
                </p>
                <div id="docsbot-container"></div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“„</div>
                        <div class="stat-content">
                            <div class="stat-value" id="docs-generated">0</div>
                            <div class="stat-label">Docs Generated</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âœï¸</div>
                        <div class="stat-content">
                            <div class="stat-value" id="docs-words">0</div>
                            <div class="stat-label">Words Written</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ•’</div>
                        <div class="stat-content">
                            <div class="stat-value" id="docs-time">0h</div>
                            <div class="stat-label">Time Saved</div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Bot Interface -->
                
                    </div>
                </div>
            </div>

            <!-- ResearchBot View -->
            <div id="research-view" class="view">
                <h2>ğŸ” ResearchBot - Intelligence Gatherer</h2>
                <p style="color:white;margin-bottom:25px;">
                    Conducts market research, competitor analysis, and trend discovery.
                </p>
                <div id="researchbot-container"></div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“Š</div>
                        <div class="stat-content">
                            <div class="stat-value" id="research-reports">0</div>
                            <div class="stat-label">Reports Generated</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸŒ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="research-sources">0</div>
                            <div class="stat-label">Sources Analyzed</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ’¡</div>
                        <div class="stat-content">
                            <div class="stat-value" id="research-insights">0</div>
                            <div class="stat-label">Insights Found</div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Bot Interface -->
                
                    </div>
                </div>
            </div>

            <!-- CodeBot View -->
            <div id="code-view" class="view">
                <h2>ğŸ’» CodeBot - Development Assistant</h2>
                <p style="color:white;margin-bottom:25px;">
                    Generates code, debugs issues, and provides technical solutions.
                </p>
                <div id="codebot-container"></div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“</div>
                        <div class="stat-content">
                            <div class="stat-value" id="code-files">0</div>
                            <div class="stat-label">Files Generated</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ›</div>
                        <div class="stat-content">
                            <div class="stat-value" id="code-bugs">0</div>
                            <div class="stat-label">Bugs Fixed</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âš¡</div>
                        <div class="stat-content">
                            <div class="stat-value" id="code-lines">0</div>
                            <div class="stat-label">Lines Written</div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Bot Interface -->
                
                    </div>
                </div>
            </div>

            <!-- SocialBot View -->
            <div id="social-view" class="view">
                <h2>ğŸ“± SocialBot - Content Creator</h2>
                <p style="color:white;margin-bottom:25px;">
                    Creates engaging social media content and manages campaigns.
                </p>
                
                <!-- Company Selector -->
                <div id="company-selector-container"></div>
                
                <!-- WordPress Manager -->
                <div id="wordpress-manager-container"></div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">âœï¸</div>
                        <div class="stat-content">
                            <div class="stat-value" id="social-posts">0</div>
                            <div class="stat-label">Posts Created</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ¯</div>
                        <div class="stat-content">
                            <div class="stat-value" id="social-engagement">0%</div>
                            <div class="stat-label">Engagement Rate</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“ˆ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="social-reach">0</div>
                            <div class="stat-label">Total Reach</div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Bot Interface -->
                
                    </div>
                </div>
            </div>

            <!-- FileSystemBot View -->
            <div id="filesystem-view" class="view">
                <h2>ğŸ“ FileSystemBot - AI File Assistant</h2>
                <p style="color:white;margin-bottom:25px;">
                    FileSystemBot helps Pinky stay organized! No permissions outside Pinky's workspace.
                </p>
                <div id="filesystembot-container"></div>
                
                <!-- Interactive Bot Interface -->
                

                <div class="recent-activity" style="margin-top:25px;">
                    <h3>ğŸ“Š Recent FileSystem Activity</h3>
                    <div class="activity-feed">
                        <div class="activity-item">
                            <span class="activity-time">Waiting...</span>
                            <span class="activity-bot">FileSystemBot</span>
                            <span class="activity-message">Ready to serve Pinky! ğŸ­</span>
                        </div>
                    </div>
                </div>

                <div style="background:white;border-radius:15px;padding:25px;margin-top:25px;">
                    <h3 style="color:#667eea;">â„¹ï¸ About FileSystemBot</h3>
                    <p style="margin-top:15px;line-height:1.6;">
                        FileSystemBot is Pinky's personal assistant for file management and organization.
                        It has <strong>limited permissions</strong> - only allowed to work within Pinky's workspace
                        and memory folders. All actions are logged and can be reviewed.
                    </p>
                    <p style="margin-top:15px;line-height:1.6;">
                        <strong>Capabilities:</strong><br>
                        â€¢ Organize and categorize files<br>
                        â€¢ Clean up temporary files<br>
                        â€¢ Search for specific content<br>
                        â€¢ Create backups<br>
                        â€¢ Generate file reports
                    </p>
                    <p style="margin-top:15px;line-height:1.6;">
                        <strong>Restrictions:</strong><br>
                        âŒ Cannot access system files<br>
                        âŒ Cannot delete without Pinky's approval<br>
                        âŒ Cannot modify code files<br>
                        âœ… Only works in designated folders
                    </p>
                </div>

                <div id="filesystembot-llm-container"></div>
            </div>

            <!-- TasksBot View -->
            <div id="tasks-view" class="view">
                <h2>ğŸ¯ TasksBot - Project & Task Manager</h2>
                <!-- TasksBotEnhanced - Primary renderer with full CRUD -->
                <div id="tasksbot-container"></div>
                
                <!-- Collapsible Analytics Section -->
                <div class="tasks-analytics-section" style="margin-top: 30px;">
                    <button class="analytics-accordion-btn" onclick="toggleTasksAnalytics()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: space-between; transition: all 0.3s ease;">
                        <span>ğŸ“Š Task Analytics & Insights</span>
                        <span id="tasks-analytics-toggle-icon" style="font-size: 20px;">â–¼</span>
                    </button>
                    <div id="tasks-analytics-content" style="display: none; margin-top: 15px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.1);">
                        <!-- Analytics content will be populated here by task-analytics.js -->
                        <div id="task-analytics-widget"></div>
                    </div>
                </div>
                
                <!-- Old TaskQueue kept hidden for compatibility -->
                <div id="task-queue-container" style="display: none;"></div>
            </div>

            <!-- Social Media View -->
            <div id="social-media-view" class="view">
                <h2>ğŸŒ SocialBot - Social Media Manager</h2>
                <p style="color:white;margin-bottom:25px;">
                    Manage all your social media companies and content in one place.
                </p>
                
                <!-- Company Selector -->
                <div class="social-company-selector-section">
                    <h3>Select Company</h3>
                    <div id="social-company-selector" class="company-selector-container">
                        <!-- Companies loaded by JS -->
                    </div>
                </div>
                
                <!-- Tab Navigation -->
                <div class="social-tab-nav" style="margin-top:25px;margin-bottom:25px;border-bottom:2px solid #ddd;">
                    <button class="social-tab-button active" data-social-tab="companies" onclick="switchSocialTab('companies')">
                        ğŸ¢ Companies
                    </button>
                    <button class="social-tab-button" data-social-tab="create" onclick="switchSocialTab('create')">
                        âœï¸ Create Post
                    </button>
                    <button class="social-tab-button" data-social-tab="scheduled" onclick="switchSocialTab('scheduled')">
                        ğŸ“… Scheduled
                    </button>
                    <button class="social-tab-button" data-social-tab="history" onclick="switchSocialTab('history')">
                        ğŸ“Š History
                    </button>
                    <button class="social-tab-button" data-social-tab="wordpress" onclick="switchSocialTab('wordpress')">
                        ğŸ“ WordPress
                    </button>
                </div>
                
                <!-- Tab Content -->
                <div id="social-tab-companies" class="social-tab-content" style="display:block;">
                    <h3>ğŸ“± Your Companies</h3>
                    <div id="social-tab-companies-content">
                        <!-- Companies grid loaded by JS -->
                    </div>
                </div>
                
                <div id="social-tab-create" class="social-tab-content" style="display:none;">
                    <h3>âœï¸ Create New Post</h3>
                    <!-- Form loaded by JS -->
                </div>
                
                <div id="social-tab-scheduled" class="social-tab-content" style="display:none;">
                    <h3>ğŸ“… Scheduled Posts</h3>
                    <!-- Posts loaded by JS -->
                </div>
                
                <div id="social-tab-history" class="social-tab-content" style="display:none;">
                    <h3>ğŸ“Š Post History</h3>
                    <!-- Posts loaded by JS -->
                </div>
                
                <div id="social-tab-wordpress" class="social-tab-content" style="display:none;">
                    <h3>ğŸ“ WordPress Page Maker</h3>
                    <p style="color:#aaa;margin-bottom:20px;">Create SEO-optimized WordPress pages using Research Bot</p>
                    <div id="wordpress-page-maker-social"></div>
                </div>
            </div>

            <!-- Settings View -->
        <!-- ğŸ’¬ Chat View -->
        <div id="chat-view" class="view">
            <div class="chat-container">
                <div class="chat-sidebar">
                    <div class="chat-sidebar-header">
                        <h3>ğŸ’¬ CONVERSATIONS</h3>
                        <button class="chat-new-btn" id="chat-new-session">+ NEW CHAT</button>
                        <div class="chat-search-box">
                            <input type="text" id="chat-search" placeholder="Search chats...">
                        </div>
                    </div>
                    <div class="chat-session-list" id="chat-session-list"></div>
                </div>
                <div class="chat-main">
                    <div class="chat-header">
                        <div class="chat-header-title">
                            <span class="status-dot"></span>
                            <span id="chat-header-title-text">New Conversation</span>
                        </div>
                        <div class="chat-header-stats" id="chat-header-stats"></div>
                    </div>
                    <div class="chat-messages" id="chat-messages">
                            <div class="chat-empty-state">
                                <div class="pinky-avatar-large">ğŸ­</div>
                                <h3>Chat with Pinky</h3>
                                <p>Ask about tasks, check status, give commands, or just say hi. Your conversations are saved and searchable.</p>
                                <div class="chat-quick-actions">
                                    <button class="chat-quick-btn" onclick="PinkyChat.quickSend('What are you working on right now?')">ğŸ“‹ Current tasks</button>
                                    <button class="chat-quick-btn" onclick="PinkyChat.quickSend('Show me your heartbeat status and what you accomplished today')">ğŸ’“ Status report</button>
                                    <button class="chat-quick-btn" onclick="PinkyChat.quickSend('What needs to be done next? Check the task queue.')">ğŸ¯ Next task</button>
                                    <button class="chat-quick-btn" onclick="PinkyChat.quickSend('How much have you spent in API costs today?')">ğŸ’° Cost check</button>
                                </div>
                            </div>
                    </div>
                    <div class="chat-input-area">
                        <div class="chat-input-wrapper">
                            <textarea id="chat-input" placeholder="Message Pinky... (Enter to send, Shift+Enter for new line)" rows="1"></textarea>
                            <button class="chat-send-btn" id="chat-send-btn">SEND</button>
                        </div>
                        <div class="chat-input-hint">Shift+Enter for new line Â· Conversations saved to memory/chats/</div>
                    </div>
                </div>
            </div>
        </div>
            <div id="settings-view" class="view"><div id="settings-content"></div></div>

            <div id="wordpress-view" class="view">
                <h2>ğŸ“ WordPress Page Maker</h2>
                <p style="color:#666;margin-bottom:25px;">Create SEO-optimized WordPress pages using Research Bot</p>
                <div id="wordpress-page-maker"></div>
            </div>

            <div id="export-view" class="view">
                <h2>ğŸ“¦ Export & Distribute</h2>
                <div id="export-package-container"></div>
            </div>

            <div id="about-view" class="view">
                <h2>â„¹ï¸ About PinkyBot</h2>
                <div id="about-container"></div>
            </div>

            <div id="business-view" class="view">
                <div class="view-header"><h2>ğŸ¢ BusinessBot</h2></div>
                <div id="businessbot-container"></div>
            </div>
            <!-- CryptoBot View -->
            <div id="crypto-view" class="view">
                <div id="crypto-view-container"></div>
            </div>
        </main>
    </div>

    <!-- Notification Container -->
    <div id="notifications"></div>

    <!-- Modal Container -->
    <div id="modal-overlay" class="modal-overlay" style="display:none;"></div>
    <div id="modal" class="modal" style="display:none;"></div>

    <!-- Bug Submission Form Component -->
    <div id="bug-submission-modal" class="bug-modal" style="display: none;">
      <div class="bug-modal-overlay"></div>
      <div class="bug-modal-content">
        <div class="bug-modal-header">
          <h2>ğŸ› Report a Bug</h2>
          <button class="bug-close-btn" onclick="BugSubmission.close()">&times;</button>
        </div>
        
        <form id="bug-submission-form" class="bug-form">
          <!-- Bug Title -->
          <div class="bug-form-group">
            <label for="bug-title">Bug Title <span class="required">*</span></label>
            <input 
              type="text" 
              id="bug-title" 
              name="title" 
              placeholder="Brief description of the issue (10-200 characters)"
              minlength="10"
              maxlength="200"
              required
            />
            <span class="char-count">0/200</span>
          </div>

          <!-- Bug Description -->
          <div class="bug-form-group">
            <label for="bug-description">Description</label>
            <textarea 
              id="bug-description" 
              name="description" 
              placeholder="Detailed description of what went wrong"
              rows="4"
            ></textarea>
          </div>

          <!-- Category -->
          <div class="bug-form-group">
            <label for="bug-category">Category <span class="required">*</span></label>
            <select id="bug-category" name="category" required>
              <option value="">Select category...</option>
              <option value="dashboard">Dashboard</option>
              <option value="backend">Backend API</option>
              <option value="bot">Bot Functionality</option>
              <option value="ui">UI/UX</option>
              <option value="other">Other</option>
            </select>
          </div>

          <!-- Severity -->
          <div class="bug-form-group">
            <label for="bug-severity">Severity <span class="required">*</span></label>
            <select id="bug-severity" name="severity" required>
              <option value="">Select severity...</option>
              <option value="critical">ğŸ”´ Critical - System unusable</option>
              <option value="high">ğŸŸ  High - Major feature broken</option>
              <option value="medium">ğŸŸ¡ Medium - Minor feature issue</option>
              <option value="low">ğŸŸ¢ Low - Cosmetic or minor</option>
            </select>
          </div>

          <!-- Steps to Reproduce -->
          <div class="bug-form-group">
            <label for="bug-steps">Steps to Reproduce</label>
            <div id="bug-steps-list" class="steps-list">
              <div class="step-item">
                <input type="text" class="step-input" placeholder="Step 1" />
                <button type="button" class="remove-step-btn" onclick="BugSubmission.removeStep(this)">Ã—</button>
              </div>
            </div>
            <button type="button" class="add-step-btn" onclick="BugSubmission.addStep()">+ Add Step</button>
          </div>

          <!-- Expected Behavior -->
          <div class="bug-form-group">
            <label for="bug-expected">Expected Behavior</label>
            <input 
              type="text" 
              id="bug-expected" 
              name="expectedBehavior" 
              placeholder="What should have happened?"
            />
          </div>

          <!-- Actual Behavior -->
          <div class="bug-form-group">
            <label for="bug-actual">Actual Behavior</label>
            <input 
              type="text" 
              id="bug-actual" 
              name="actualBehavior" 
              placeholder="What actually happened?"
            />
          </div>

          <!-- Environment Info (Auto-detected) -->
          <div class="bug-form-group">
            <label>Environment</label>
            <div class="environment-info">
              <div class="env-item">
                <strong>Browser:</strong> <span id="env-browser">Detecting...</span>
              </div>
              <div class="env-item">
                <strong>OS:</strong> <span id="env-os">Detecting...</span>
              </div>
              <div class="env-item">
                <strong>Version:</strong> <span id="env-version">1.0.0</span>
              </div>
            </div>
          </div>

          <!-- File Attachments (Screenshots/Logs) -->
          <div class="bug-form-group">
            <label for="bug-attachments">Attachments (Screenshots, Logs)</label>
            <div class="attachment-area">
              <input 
                type="file" 
                id="bug-attachments" 
                name="attachments" 
                accept=".png,.jpg,.jpeg,.txt,.log"
                multiple
                style="display: none;"
              />
              <button type="button" class="attachment-btn" onclick="document.getElementById('bug-attachments').click()">
                ğŸ“ Attach Files
              </button>
              <div class="attachment-hint">
                PNG, JPG, TXT, LOG files (max 10MB each)
              </div>
              <div id="attachment-preview" class="attachment-preview"></div>
            </div>
          </div>

          <!-- Reporter Info (Optional) -->
          <div class="bug-form-group">
            <label for="bug-email">Your Email (Optional)</label>
            <input 
              type="email" 
              id="bug-email" 
              name="userEmail" 
              placeholder="email@example.com (for updates)"
            />
          </div>

          <div class="bug-form-group">
            <label for="bug-name">Your Name (Optional)</label>
            <input 
              type="text" 
              id="bug-name" 
              name="userName" 
              placeholder="Anonymous"
              value="Anonymous"
            />
          </div>

          <!-- Duplicate Warning -->
          <div id="duplicate-warning" class="duplicate-warning" style="display: none;">
            <h4>âš ï¸ Potential Duplicates Found</h4>
            <p>Similar bugs already exist. Consider upvoting instead:</p>
            <div id="duplicate-list"></div>
          </div>

          <!-- Form Actions -->
          <div class="bug-form-actions">
            <button type="button" class="btn-secondary" onclick="BugSubmission.close()">Cancel</button>
            <button type="submit" class="btn-primary">Submit Bug Report</button>
          </div>

          <!-- Submission Status -->
          <div id="submission-status" class="submission-status" style="display: none;"></div>
        </form>
      </div>
    </div>

    <!-- Scripts -->
    <script>
        // Define CRITICAL functions IMMEDIATELY so onclick works before renderer.js loads
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            const toggle = document.getElementById('menuToggle');
            
            if (sidebar && overlay && toggle) {
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
                toggle.classList.toggle('active');
            }
        }
        
        function switchToView(viewName) {
            console.log('[Dashboard] switchToView called:', viewName);
            
            // Hide all views
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            
            // Show target view
            const targetView = document.getElementById(viewName + '-view');
            if (targetView) {
                targetView.classList.add('active');
                console.log('[Dashboard] Switched to:', viewName);
            }
            
            // Update active button state
            document.querySelectorAll('.bot-button, .view-button').forEach(b => b.classList.remove('active'));
            const clickedButton = document.querySelector(`[data-bot="${viewName}"], [data-view="${viewName}"]`);
            if (clickedButton) {
                clickedButton.classList.add('active');
            }
            
            // Close sidebar on mobile
            if (window.innerWidth <= 768) {
                const sidebar = document.querySelector('.sidebar');
                const overlay = document.getElementById('sidebarOverlay');
                const toggle = document.getElementById('menuToggle');
                
                if (sidebar && overlay && toggle) {
                    sidebar.classList.remove('active');
                    overlay.classList.remove('active');
                    toggle.classList.remove('active');
                }
            }
        }
    </script>
    <!-- Global Refresh Manager - single API cycle for all widgets -->
    <script src="global-refresh.js"></script>
    <!-- Loading Manager - MUST load FIRST for global error handling -->
    <script src="loading-manager.js"></script>
    <!-- File Attachment Manager MUST load FIRST (before TasksBot uses it) -->
    <script src="file-attachment-manager.js"></script>
    <link rel="stylesheet" href="file-attachment.css">
    <!-- File Attachment Module for TasksBot -->
    <script src="file-attachment-module.js"></script>
    <!-- Load TasksBot (now FileAttachmentManager is available) -->
    <script src="tasks-bot-enhanced.js"></script>
    <link rel="stylesheet" href="tasks-bot.css">
    <link rel="stylesheet" href="tasks-bot-enhanced.css">
    <!-- Then load renderer which depends on TasksBot -->
    <script src="renderer.js"></script>
    
    <!-- Bot Upgrades & New Features -->
    <link rel="stylesheet" href="bot-upgrades.css">
    <link rel="stylesheet" href="new-features.css">
    <link rel="stylesheet" href="analytics-heartbeat.css">
    <link rel="stylesheet" href="api-helpers.css">
    <link rel="stylesheet" href="visual-polish.css">
    <script src="bot-upgrades.js"></script>
    <script src="bot-modules.js"></script>
    <script src="settings-fixed.js"></script>
    <script src="theme-manager.js"></script>
    <script src="task-queue-integration.js"></script>
    <script src="filesystem-bot-llm.js"></script>
    <script src="social-api-connectors.js"></script>
    <!-- DISABLED: Using renderer.js instead -->
    <!-- <script src="heartbeat-manager.js"></script> -->
    <script src="analytics-advanced.js"></script>
    <!-- System Monitor UI - Real-time resource monitoring -->
    <script src="system-monitor-ui.js"></script>
    <!-- SocialBot UI - Company management and post creation -->
    <script src="social-bot-ui.js"></script>
    
    <!-- Metrics Persistence Layer - API health tracking (HB#111) -->
    <script src="metrics-persistence.js"></script>
    
    <!-- Health Dashboard - Bot-Backend Status Monitor -->
    <script src="health-dashboard.js"></script>
    
    <!-- Task Statistics - Task Completion Metrics -->
    <script src="task-statistics.js"></script>
    
    <!-- Task History Chart - Completed Tasks Over Last 30 Days -->
    <script src="task-history-chart.js"></script>

    <!-- Task Timer - Time Tracking for Running Tasks -->
    <script src="task-timer.js"></script>
    
    <!-- Export Package Manager - Distributable packages -->
    <script src="export-package.js"></script>
    
    <script>
        // Auto-set onboarded for existing installs
        if (!localStorage.getItem('pinky_onboarded')) {
          localStorage.setItem('pinky_onboarded', 'true');
          localStorage.setItem('pinky_user_name', 'Ken');
          localStorage.setItem('pinky_api_key', 'local');
        }
        // Load Enhanced Onboarding Tour First
        (async function() {
          if (localStorage.getItem('pinky_onboarded') === 'true') return;
          const response = await fetch('onboarding-tour.html');
          const html = await response.text();
          document.getElementById('onboarding-container').innerHTML = html;
          console.log('[Dashboard] Enhanced onboarding tour loaded');
        })();
        
        // Initialize all dashboard components
        window.addEventListener('load', () => {
            console.log('[Dashboard] Initializing all modules...');
            setTimeout(() => {
                // Inject container divs for bot modules
                const containers = {
                    'docs-view': '<div id="docsbot-container"></div>',
                    'research-view': '<div id="researchbot-container"></div>',
                    'code-view': '<div id="codebot-container"></div>',
                    'business-view': '<div id="businessbot-container"></div>',
                    'filesystem-view': '<div id="filesystembot-container"></div>',
                    'tasks-view': '<div id="tasksbot-pro-container"></div>',
                    'crypto-view-container': '<div id="crypto-view"></div>'
                };
                
                for (const [viewId, container] of Object.entries(containers)) {
                    const view = document.getElementById(viewId);
                    if (view && !view.querySelector('[id*="bot-container"]')) {
                        view.insertAdjacentHTML('afterbegin', container);
                    }
                }
                // Render all bot modules into their containers
                if (window.docsBotPro) window.docsBotPro.renderUI();
                if (window.researchBotPro) window.researchBotPro.renderUI();
                if (window.codeBotPro) window.codeBotPro.renderUI();
                if (window.businessBotPro) window.businessBotPro.renderUI();
                if (window.filesystemBotPro) window.filesystemBotPro.renderUI();
                if (window.tasksBotPro) window.tasksBotPro.renderUI();
                console.log('[Dashboard] All bot modules rendered');
                
                // Initialize Fixed Settings (replaces old broken version)
                if (window.settingsManagerFixed) {
                    window.settingsManagerFixed.renderUI();
                    console.log('[Dashboard] Settings UI rendered (FIXED version)');
                }
                
                // Initialize Social Media Bot Pro
                if (window.socialBot) {
                    window.socialBot.renderSocialUI();
                    console.log('[Dashboard] SocialBot Pro rendered');
                }
                
                // Initialize Social API Connectors
                if (window.socialMediaConnectors) {
                    window.socialMediaConnectors.renderUI();
                    console.log('[Dashboard] Social API Connectors ready');
                }
                
                // Initialize Task Queue
                if (window.taskQueueManager) {
                    window.taskQueueManager.renderUI();
                    console.log('[Dashboard] Task Queue rendered');
                }
                // Load CryptoBot View
                fetch("cryptobot-view.html?v=1770609375")
                    .then(r => r.text())
                    .then(html => {
                        const cryptoContainer = document.getElementById("crypto-view-container");
                        if (cryptoContainer) {
                            cryptoContainer.innerHTML = html;
                            console.log("[Dashboard] CryptoBot view loaded");
                        }
                    })
                    .catch(err => console.error("[Dashboard] Failed to load CryptoBot view:", err));
                
                // Initialize FileSystemBot LLM
                if (window.fileSystemBotLLM) {
                    window.fileSystemBotLLM.renderUI();
                    console.log('[Dashboard] FileSystemBot LLM ready');
                }
                
                // Initialize Heartbeat Manager
                if (window.heartbeatManager) {
                    window.heartbeatManager.renderUI();
                    console.log('[Dashboard] Heartbeat status rendered');
                }
                
                // Initialize Analytics Engine (async)
                if (window.analyticsEngine) {
                    window.analyticsEngine.renderUI().then(() => {
                        console.log('[Dashboard] Analytics dashboard rendered');
                        // Update live counters after metrics load
                        window.analyticsEngine.getMetrics().then(metrics => {
                            const botsCount = document.getElementById('bots-active-count');
                            const tasksCount = document.getElementById('tasks-today-count');
                            if (botsCount) botsCount.textContent = metrics.botsActive;
                            if (tasksCount) tasksCount.textContent = metrics.tasksCompleted + ' âœ…';
                        });
                    }).catch(err => console.log('[Dashboard] Analytics error:', err.message));
                }
                
                // Initialize other bot modules
                if (window.docsBotPro) window.docsBotPro.renderUI();
                if (window.researchBotPro) window.researchBotPro.renderUI();
                if (window.codeBotPro) window.codeBotPro.renderUI();
                if (window.businessBotPro) window.businessBotPro.renderUI();
                if (window.filesystemBotPro) window.filesystemBotPro.renderUI();
                if (window.tasksBotPro) window.tasksBotPro.renderUI();
                
                // Load activity data
                if (typeof loadActivityData === 'function') {
                    loadActivityData();
                    console.log('[Dashboard] Activity data loaded');
                }
                
                console.log('[Dashboard] âœ“ All systems initialized!');
            }, 500);
        });
    </script>
    
    <!-- Toggle function for Tasks Analytics accordion -->
    <script>
        function toggleTasksAnalytics() {
            const content = document.getElementById('tasks-analytics-content');
            const icon = document.getElementById('tasks-analytics-toggle-icon');
            
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                icon.textContent = 'â–²';
                
                // Initialize analytics if not already loaded
                if (typeof window.renderTasksViewAnalytics === 'function') {
                    window.renderTasksViewAnalytics();
                    console.log('[Tasks View] Analytics accordion opened');
                }
            } else {
                content.style.display = 'none';
                icon.textContent = 'â–¼';
            }
        }
    </script>
    
    <script src="pinky-chat.js"></script>
    <script src="settings-page.js"></script>
    
    <script src="export-package-ui.js"></script>
    <script src="system-health-widget.js"></script>
    <script src="changelog-widget.js"></script>
    
    <!-- Loading Animation with Pinky character -->
    <script src="loading-animation.js"></script>
    
    <!-- Error Page with Pinky personality -->
    <script src="error-page-pinky.js"></script>

    <!-- Notification Sounds with customizable themes -->
    <script src="notification-sounds.js"></script>

    <!-- Task Analytics Dashboard with completion trends and metrics -->
    <script src="task-analytics.js"></script>

    <!-- Tooltip System for first-time users -->
    <script src="tooltip-system.js"></script>

    <!-- About Page with system info and credits -->
    <script src="about-page.js"></script>

    <!-- WordPress Page Maker -->
    <script src="wordpress-page-maker.js"></script>
    
    <!-- Bug Submission System -->
    <script src="bug-submission.js"></script>
    
    <script src="api-config.js"></script>
    <script src="api-helpers.js"></script>
    <script src="connection-monitor.js"></script>
    <script src="load-visual-polish.js"></script>
    <script>
        // Initialize tooltip system on page load
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof TooltipSystem !== 'undefined') {
                window.tooltipSystem = new TooltipSystem();
                window.tooltipSystem.init();
                console.log('[Dashboard] Tooltip system initialized for first-time visitors');
            }
            
            // Initialize WordPress Page Maker
            if (typeof WordPressPageMaker !== 'undefined') {
                window.wordPressMaker = new WordPressPageMaker();
                window.wordPressMaker.initialize().catch(err => {
                    console.log('[Dashboard] WordPress maker initialization error:', err.message);
                });
                console.log('[Dashboard] WordPress Page Maker initialized');
            }
            
            // Add WordPress view button listener
            const wpButton = document.querySelector('[data-view="wordpress"]');
            if (wpButton) {
                wpButton.addEventListener('click', () => {
                    switchToView('wordpress');
                });
            }
            
            // Initialize Task History Chart
            if (typeof TaskHistoryChart !== 'undefined') {
                window.taskHistoryChart = new TaskHistoryChart();
                window.taskHistoryChart.init().catch(err => {
                    console.log('[Dashboard] Task History Chart initialization error:', err.message);
                });
                console.log('[Dashboard] Task History Chart initialized');
            }
        });
    </script>
    <!-- DISABLED <script src="token-warning-ui.js"></script> -->
    <!-- DISABLED <script src="stripe-checkout.js"></script> -->
    <!-- DISABLED <script src="tier-resolver.js"></script> -->
    <!-- DISABLED <script src="license-manager.js"></script> -->
    <!-- DISABLED <script src="feature-gating.js"></script> -->
    <!-- DISABLED <script src="tier-management.js"></script> -->
    <script src="load-company-selector.js"></script>
    <script src="company-selector.js"></script>
    <script src="load-wordpress-manager.js"></script>
    <script src="wordpress-manager.js"></script>
    
    <!-- Bug Submission Helper -->
    <script>
        function openBugSubmission(context) {
            if (window.BugSubmission && typeof window.BugSubmission.open === 'function') {
                window.BugSubmission.open();
                // Pre-fill category if context provided
                if (context) {
                    const categoryMap = {
                        'filesystem': 'bot',
                        'tasks': 'dashboard',
                        'social': 'bot',
                        'chat': 'ui'
                    };
                    const category = categoryMap[context] || 'other';
                    setTimeout(() => {
                        const categorySelect = document.querySelector('#bug-submission-form select[name="category"]');
                        if (categorySelect) {
                            categorySelect.value = category;
                        }
                    }, 100);
                }
            } else {
                console.error('BugSubmission not loaded');
                alert('Bug submission form not available. Please refresh the page.');
            }
        }
    </script>
    <!-- Crypto Bot & Wallet Integration -->
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <script src="dashboard-wallet-connect.js"></script>
    <script src="dashboard-metamask-connect.js"></script>
    <script src="unified-wallet-manager.js"></script>
    <!-- DISABLED: broken fetch syntax <script src="cryptobot-controller.js"></script> -->
    <!-- DISABLED: broken fetch syntax <script src="cryptobot-view.js"></script> -->


    <script>
    window.addEventListener('load', function() {
        setTimeout(function() {
            var d = document.createElement('div');
            d.style.cssText = 'position:fixed;top:10px;right:10px;background:#000;color:#0f0;padding:15px;z-index:99999;font-family:monospace;font-size:12px;max-width:400px;border:2px solid #0f0;border-radius:8px;white-space:pre;cursor:pointer;';
            var log = 'BOT DEBUG:\n';
            var ids = ['docsbot-container','researchbot-container','codebot-container','businessbot-container','filesystembot-container'];
            var bots = ['docsBotPro','researchBotPro','codeBotPro','businessBotPro','filesystemBotPro'];
            for (var i = 0; i < ids.length; i++) {
                var el = document.getElementById(ids[i]);
                log += ids[i] + ': ' + (el ? 'YES(' + el.innerHTML.length + ')' : 'MISSING') + '\n';
            }
            log += '---\n';
            for (var i = 0; i < bots.length; i++) {
                var b = window[bots[i]];
                log += bots[i] + ': ' + (b ? 'EXISTS' : 'UNDEF');
                if (b && b.renderUI) {
                    try { b.renderUI(); log += ' RENDERED'; }
                    catch(e) { log += ' ERR:' + e.message; }
                }
                log += '\n';
            }
            log += '\nClick to close';
            d.textContent = log;
            var closeBtn = document.createElement('button');
            closeBtn.textContent = 'X CLOSE';
            closeBtn.style.cssText = 'background:red;color:white;border:none;padding:5px 10px;cursor:pointer;margin-top:10px;display:block;';
            closeBtn.onclick = function() { d.remove(); };
            d.appendChild(closeBtn);
            document.body.appendChild(d);
        }, 2500);
    });
    </script>
</body>
</html>
